import{G as j,r,j as e,L as m}from"./index-DHdrx00N.js";/* empty css                   */const c="http://localhost:3000",f=()=>{const{user:x,token:o}=j(),[n,p]=r.useState(o),[d,l]=r.useState([]),a=async()=>{try{const s={method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}},i=await(await fetch(`${c}/api/admin/getAllUsers`,s)).json();l(i)}catch(s){console.error("Error fetching users data: ",s)}},h=async s=>{try{const t={method:"DELETE",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}};(await fetch(`${c}/api/admin/deleteUser/${s}`,t)).ok&&a()}catch(t){console.error("Error deleting user: ",t)}};return r.useEffect(()=>{a()},[]),e.jsx(e.Fragment,{children:e.jsxs("section",{className:"admin-users-section",children:[e.jsx("div",{className:"container",children:e.jsx("h2",{children:"Users Data"})}),e.jsx("div",{className:"container admin-users",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Update"}),e.jsx("th",{children:"Delete"})]})}),e.jsx("tbody",{children:d.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:s.userName}),e.jsx("td",{children:s.email}),e.jsx("td",{children:e.jsx(m,{to:`/admin/users/${s._id}/edit`,className:"edit-delete",children:e.jsx("button",{className:"edit-delete",children:"Edit"})})}),e.jsx("td",{children:e.jsx("button",{className:"edit-delete",onClick:()=>h(s._id),children:"Delete"})})]},t))})]})})]})})};export{f as default};
