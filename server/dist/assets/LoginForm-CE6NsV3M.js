import{r as d,E as g,G as x,j as r}from"./index-DHdrx00N.js";import{a as h}from"./axios-C8DqakIB.js";import{B as f}from"./BottomWarning-BXRySpNh.js";const b="http://localhost:3000";function E(){const[o,u]=d.useState({userName:"",password:""}),c=g(),{storeTokenInLS:m}=x(),i=n=>{const{name:t,value:a}=n.target;u({...o,[t]:a})},p=async n=>{var t,a;n.preventDefault(),console.log("Login Data Submitted:",o);try{const s=await h.post(`${b}/api/auth/login`,o,{headers:{"Content-Type":"application/json"}});console.log("Response Data:",s.data),alert(s.data.message);const e=s.data.token;m(e),console.log(e),u({userName:"",password:""}),c("/home")}catch(s){if(s.response){const e=s.response.data;if(console.error("Validation Errors:",e),e.msg){let l=`${e.msg}`;(t=e.err)!=null&&t.userNameError&&(l+=`
Username Error: ${e.err.userNameError}`),(a=e.err)!=null&&a.passwordError&&(l+=`
Password Error: ${e.err.passwordError}`),alert(l)}else alert(e.error)}else s.request?console.error("Error Request:",s.request):console.error("Error Message:",s.message)}};return r.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md -z-0",children:[r.jsx("h2",{className:"text-4xl font-extrabold text-white mb-6 text-center",children:"Login"}),r.jsxs("form",{onSubmit:p,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Username"}),r.jsx("input",{type:"text",name:"userName",value:o.userName,onChange:i,className:"w-full p-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",placeholder:"Enter your username",required:!0})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Password"}),r.jsx("input",{type:"password",name:"password",value:o.password,onChange:i,className:"w-full p-2 bg-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",placeholder:"Enter your password",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-purple-500 text-white py-2 rounded-lg font-bold hover:bg-purple-600 focus:outline-none focus:ring-4 focus:ring-purple-400",children:"Login"}),r.jsx(f,{to:"/register",label:"New to the platform?",ButtonText:"Register"})]})]})}export{E as L};
