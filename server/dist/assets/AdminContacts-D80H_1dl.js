import{G as m,r as n,j as e,L as j}from"./index-DHdrx00N.js";/* empty css                   */const i="http://localhost:3000",N=()=>{const{user:x,token:a}=m(),[o,p]=n.useState(a),[l,d]=n.useState([]),r=async()=>{try{const t={method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}},s=await fetch(`${i}/api/admin/getAllContactMessages`,t);console.log("Token from contacts",o);const c=await s.json();console.log("Data from contacts",c),d(c)}catch(t){console.error("Error fetching contacts: ",t)}},h=async t=>{try{const s={method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}};(await fetch(`${i}/api/admin/deleteContactMessage/${t}`,s)).ok&&r()}catch(s){console.error("Error deleting contact: ",s)}};return n.useEffect(()=>{r()},[]),e.jsxs("section",{className:"admin-users-section",children:[e.jsx("div",{className:"container",children:e.jsx("h1",{children:"Contacts Data"})}),e.jsx("div",{className:"container admin-users",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"contact-name-col",children:"User Name"}),e.jsx("th",{className:"contact-email-col",children:"Email"}),e.jsx("th",{className:"contact-msg-col=",children:"Message"}),e.jsx("th",{className:"contact-msg-col=",children:"Edit"}),e.jsx("th",{className:"contact-msg-col=",children:"Delete"})]})}),e.jsx("tbody",{children:l.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.userName}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.message}),e.jsx("td",{children:e.jsx(j,{to:`/admin/contacts/${t._id}/edit`,className:"edit-delete",children:e.jsx("button",{className:"edit-delete",children:"Edit"})})}),e.jsx("td",{children:e.jsx("button",{className:"edit-delete",onClick:()=>h(t._id),children:"Delete"})})]},s))})]})})]})};export{N as default};
