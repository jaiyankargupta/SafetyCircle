import{Y as p,G as g,r as m,E as x,j as e}from"./index-DHdrx00N.js";/* empty css                 */const d="http://localhost:3000",C=()=>{const{id:a}=p(),{token:o}=g(),[s,l]=m.useState({userName:"",email:"",message:""}),h=x();m.useEffect(()=>{(async()=>{try{const t={method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}},i=await(await fetch(`${d}/api/admin/getContactMessage/${a}`,t)).json();l(i)}catch(t){console.error("Error fetching contact details: ",t)}})()},[a,o]);const c=n=>{const{name:t,value:r}=n.target;l(i=>({...i,[t]:r}))},u=async n=>{n.preventDefault();try{const t={method:"PATCH",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(s)};console.log(a),(await fetch(`${d}/api/admin/updateContactMessage/${a}`,t)).ok&&h("/admin/contacts")}catch(t){console.error("Error updating user details: ",t)}};return e.jsx("section",{className:"edit-user-section",children:e.jsxs("div",{className:"container",children:[e.jsx("h2",{children:"Edit Contact"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("label",{children:["User Name:",e.jsx("input",{type:"text",name:"userName",value:s.userName,onChange:c})]}),e.jsxs("label",{children:["Email:",e.jsx("input",{type:"email",name:"email",value:s.email,onChange:c})]}),e.jsxs("label",{children:["Message:",e.jsx("input",{type:"text",name:"message",value:s.message,onChange:c})]}),e.jsx("button",{type:"submit",children:"Update Contact"})]})]})})};export{C as default};
